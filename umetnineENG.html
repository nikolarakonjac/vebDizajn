<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Paintings</title>
<!-- 

Highway Template

https://templatemo.com/tm-520-highway

-->
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">

        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="css/fontAwesome.css">
        <link rel="stylesheet" href="css/light-box.css">
        <link rel="stylesheet" href="css/templatemo-style.css">

        <link href="https://fonts.googleapis.com/css?family=Kanit:100,200,300,400,500,600,700,800,900" rel="stylesheet">

        <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>


        <style>
            .portfolio-item {
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                height: 100%;
            }
        
            .popupButton {
                margin-top: 10px; /* Adjust the margin as needed */
            }

            
        </style>

    </head>

<body>

    <nav>
        <div class="logo">
            <a href="index.html">Gala<em>xy     </em></a>
            <a href="umetnineENG.html">EN<em>G </em></a>
            <a href="umetnine.html">SR<em>B</em></a>
        </div>
      <div class="menu-icon">
        <span></span>
      </div>
    </nav>


    
    
   
    


    <!-- <div class="grid-portfolio" id="portfolio">
        <div class="container">
            <br>
            <br>
            <br>
            <div class="row" style="display: flex; flex-direction: column; align-items: center; text-align: center;">
                <div class="col-md-12">
                    <button class="btn" id="dugmeSortirajRastuce">Sortiraj[A-Z]</button>
                    <button class="btn" id="dugmeSortirajOpadajuce">Sortiraj[Z-A]</button>
                    <button class="btn" id="dugmePretrazi">Pretrazi</button>
                    <input type="text" id="inputField">
                    
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 col-sm-6">
                    <div class="portfolio-item">
                        <div class="thumb">
                            <a href="img/slike/slika1.jpg" data-lightbox="image-1"><div class="hover-effect">
                                <div class="hover-content">
                                    <h1>Mona Liza <em>, Leonardo da Vinci</em></h1>
                                    <p>Naslikana je izmedju 1503. i 1506. godine</p>
                                    <p>Vrednost: nepoznata</p>
                                </div>
                            </div></a>
                            <div class="image">
                                <img src="img/slike/slika1Podesena.jpg">
                            </div>
                        </div>
                        <button class="popupButton" id="popupButton1">Dodaj ponudu</button>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="portfolio-item">
                        <div class="thumb">
                            <a href="img/slike/slika2.jpg" data-lightbox="image-1"><div class="hover-effect">
                                <div class="hover-content">
                                    <h1>raclette <em>taxidermy</em></h1>
                                    <p>Awesome Subtittle Goes Here</p>
                                </div>
                            </div></a>
                            <div class="image">
                                <img src="img/slike/slika2Podesena.jpg">
                            </div>
                        </div>
                        <button class="popupButton" id="popupButton2">Dodaj ponudu</button>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="portfolio-item">
                        <div class="thumb">
                            <a href="img/slike/slika3.jpg" data-lightbox="image-1"><div class="hover-effect">
                                <div class="hover-content">
                                    <h1>humblebrag <em>brunch</em></h1>
                                    <p>Awesome Subtittle Goes Here</p>
                                </div>
                            </div></a>
                            <div class="image">
                                <img src="img/slike/slika3Podesena.jpg">
                            </div>
                        </div>
                        <button class="popupButton" id="popupButton3">Dodaj ponudu</button>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="portfolio-item">
                        <div class="thumb">
                            <a href="img/slike/slika4.jpg" data-lightbox="image-1"><div class="hover-effect">
                                <div class="hover-content">
                                    <h1>Succulents <em>chambray</em></h1>
                                    <p>Awesome Subtittle Goes Here</p>
                                </div>
                            </div></a>
                            <div class="image">
                                <img src="img/slike/slika4Podesena.jpg">
                            </div>
                        </div>
                        <button class="popupButton" id="popupButton4">Dodaj ponudu</button>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="portfolio-item">
                        <div class="thumb">
                            <a href="img/slike/slika5.jpg" data-lightbox="image-1"><div class="hover-effect">
                                <div class="hover-content"> 
                                    <h1>freegan <em>aesthetic</em></h1>
                                    <p>Awesome Subtittle Goes Here</p>
                                </div>
                            </div></a>
                            <div class="image">
                                <img src="img/slike/slika5Podesena.jpg">
                            </div>
                        </div>
                        <button class="popupButton" id="popupButton5">Dodaj ponudu</button>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="portfolio-item">
                        <div class="thumb">
                            <a href="img/slike/slika6.jpg" data-lightbox="image-1"><div class="hover-effect">
                                <div class="hover-content">
                                    <h1>taiyaki <em>vegan</em></h1>
                                    <p>Awesome Subtittle Goes Here</p>
                                </div>
                            </div></a>
                            <div class="image">
                                <img src="img/slike/slika6Podesena.jpg">
                            </div>
                        </div>
                        <button class="popupButton" id="popupButton6">Dodaj ponudu</button>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="portfolio-item">
                        <div class="thumb">
                            <a href="img/slike/slika7.jpg" data-lightbox="image-1"><div class="hover-effect">
                                <div class="hover-content">
                                    <h1>slika7 <em>vegan</em></h1>
                                    <p>Awesome Subtittle Goes Here</p>
                                </div>
                            </div></a>
                            <div class="image">
                                <img src="img/slike/slika7Podesena.jpg">
                            </div>
                        </div>
                        <button class="popupButton" id="popupButton7">Dodaj ponudu</button>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="portfolio-item">
                        <div class="thumb">
                            <a href="img/slike/slika8.jpg" data-lightbox="image-1"><div class="hover-effect">
                                <div class="hover-content">
                                    <h1>slika8 <em>vegan</em></h1>
                                    <p>Awesome Subtittle Goes Here</p>
                                </div>
                            </div></a>
                            <div class="image">
                                <img src="img/slike/slika8Podesena.jpg">
                            </div>
                        </div>
                        <button class="popupButton" id="popupButton8">Dodaj ponudu</button>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="portfolio-item">
                        <div class="thumb">
                            <a href="img/slike/slika9.jpg" data-lightbox="image-1"><div class="hover-effect">
                                <div class="hover-content">
                                    <h1>slika9 <em>vegan</em></h1>
                                    <p>Awesome Subtittle Goes Here</p>
                                </div>
                            </div></a>
                            <div class="image">
                                <img src="img/slike/slika9Podesena.jpg">
                            </div>
                        </div>
                        <button class="popupButton" id="popupButton9">Dodaj ponudu</button>
                    </div>
                </div>
                
                
                
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="load-more-button">
                        <a href="#">Load More</a>
                    </div>
                </div>
            </div>
            
        </div>
    </div> -->


    <div class="grid-portfolio" id="portfolio">
        <br>
        <br>
        <br>
        <div class="row" style="display: flex; flex-direction: column; align-items: center; text-align: center;">
            <div class="col-md-12">
                <button class="btn" id="dugmeSortirajRastuce">Sort[A-Z]</button>
                <button class="btn" id="dugmeSortirajOpadajuce">Sort[Z-A]</button>
                <button class="btn" id="dugmePretrazi">Search</button>
                <input type="text" id="inputField">
                
            </div>
        </div>
        <div class="container proba">
            
            
           
        </div>
    </div>


    <footer>
        <div class="container-fluid">
            <div class="col-md-12">
                <p>Copyright 2023, Luka Dunjic i Nikola Rakonjac, Department of Software Engineering, Faculty of Electrical Engineering, University of Belgrade</p>
                    
            </div>
        </div>
    </footer>


      <!-- Modal button -->
    <div class="popup-icon">
      <button id="modBtn" class="modal-btn"><img src="img/contact-icon.png" alt=""></button>
    </div>  

    <!-- Modal -->
    <div id="modal" class="modal">
      <!-- Modal Content -->
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h3 class="header-title">Say hello to <em>Highway</em></h3>
          <div class="close-btn"><img src="img/close_contact.png" alt=""></div>    
        </div>
        <!-- Modal Body -->
        <div class="modal-body">
          <div class="col-md-6 col-md-offset-3">
            <form id="contact" action="" method="post">
                <div class="row">
                    <div class="col-md-12">
                      <fieldset>
                        <input name="name" type="text" class="form-control" id="name" placeholder="Your name..." required="">
                      </fieldset>
                    </div>
                    <div class="col-md-12">
                      <fieldset>
                        <input name="email" type="email" class="form-control" id="email" placeholder="Your email..." required="">
                      </fieldset>
                    </div>
                    <div class="col-md-12">
                      <fieldset>
                        <textarea name="message" rows="6" class="form-control" id="message" placeholder="Your message..." required=""></textarea>
                      </fieldset>
                    </div>
                    <div class="col-md-12">
                      <fieldset>
                        <button type="submit" id="form-submit" class="btn">Send Message Now</button>
                      </fieldset>
                    </div>
                </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    

    <section class="overlay-menu">
        <div class="container">
          <div class="row">
            <div class="main-menu">
              <ul>
                <li>
                  <a href="indexENG.html">Home</a>
                </li>
                <li class="dropdown">
                  <a href="javascript:void(0)" class="dropbtn">Artworks</a>
                  <div class="dropdown-content" style="display: none;">
                    <ul>
                        <li><a href="umetnineENG.html">Paintings</a></li>
                        <li><a href="skulptureENG.html">Sculptures</a></li>
                        <li><a href="crteziENG.html">Drawings</a></li>
                    </ul>
                  </div>
                </li>
                <li>
                    <a href="umetniciENG.html">Artists</a>
                </li>
                <li>
                  <a href="aboutENG.html">About us</a>
                </li>
                <li>
                  <a href="MojNalogENG.html">My account</a>
                </li>
                <li>
                    <a href="registracijaENG.html">Registration</a>
                </li>
                <li>
                    <a href="logovanjeENG.html">Login</a>
                </li>
              </ul>
              <p>We create awesome templates for you.</p>
            </div>
          </div>
        </div>
      </section>
      
      <script>
        // JavaScript to toggle visibility of dropdown content
        document.querySelector('.dropdown').addEventListener('click', function() {
          var dropdownContent = document.querySelector('.dropdown-content');
          dropdownContent.style.display = dropdownContent.style.display === 'none' ? 'block' : 'none';
        });
      </script>

        <script>
            function redirectToCrtezi() {
            window.location.href = "crtezi.html";
            }
        </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

    <script src="js/vendor/bootstrap.min.js"></script>
    
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {

            let opisSlika = [
                { imeSlike: "Mona liza", imeSlikara: "Leonardo da Vinci", vrednost: "nepoznato", src:"" },
                { imeSlike: "Zvezdana noc", imeSlikara: "Vincent van Gogh", vrednost: "nepoznato" },
                { imeSlike: "Vrisak", imeSlikara: "Monk", vrednost: "nepoznato", src:"" },
                { imeSlike: "Gernika", imeSlikara: "Picaso", vrednost: "nepoznato", src:"" },
                { imeSlike: "Trajnost pamcenja", imeSlikara: "Dali", vrednost: "nepoznato", src:"" },
                { imeSlike: "Nedelja na jezeru", imeSlikara: "Seurat", vrednost: "nepoznato", src:"" },
                { imeSlike: "Nocna straza", imeSlikara: "Rembrant", vrednost: "nepoznato", src:"" },
                { imeSlike: "Azovske bitke", imeSlikara: "Rembrant", vrednost: "nepoznato", src:"" },
                { imeSlike: "Atinska skola", imeSlikara: "Rafael", vrednost: "nepoznato", src:"" }
            ];

            let nizSrcSlika = [];
            for(let i=0;i < 9; i++){
                opisSlika[i].src = "slika" + (i+1) + "Podesena"
                //nizSrcSlika.push("slika" + i + "Podesena");
            }

            $('#dugmePretrazi').on('click', function(){
                let vrednostZaPretragu =  $('#inputField').val();
                if(vrednostZaPretragu == ""){
                    renderImages();
                }
                else{
                    renderImagesForSpecificSearch(vrednostZaPretragu);
                }
                

            });

            $('#dugmeSortirajRastuce').on('click', function() {
                opisSlika.sort((a, b) => a.imeSlike.localeCompare(b.imeSlike));
                
                renderImages();
            });

            $('#dugmeSortirajOpadajuce').on('click', function() {
                opisSlika.sort((a, b) => b.imeSlike.localeCompare(a.imeSlike));
                
                renderImages();
            });

            renderImages();

            function renderImagesForSpecificSearch(valueForSearch) {
                let html = '';
                let searchValue = valueForSearch.toLowerCase(); // Convert search value to lowercase

                for (let i = 0; i < opisSlika.length; i++) {
                    let imeSlike = opisSlika[i].imeSlike.toLowerCase(); // Convert target string to lowercase
                    let imeSlikara = opisSlika[i].imeSlikara.toLowerCase(); // Convert target string to lowercase

                    if (imeSlike.includes(searchValue) || imeSlikara.includes(searchValue)) {
                        html += '<div class="col-md-4 col-sm-6">' +
                            '<div class="portfolio-item">' +
                            '<div class="thumb">' +
                            '<a href="img/slike/slika' + (i + 1) + '.jpg" data-lightbox="image-1">' +
                            '<div class="hover-effect">' +
                            '<div class="hover-content">' +
                            '<h1>' + opisSlika[i].imeSlike + '<em>, ' + opisSlika[i].imeSlikara + '</em></h1>' +
                            '<p>Naslikana je izmeÄ‘u 1503. i 1506. godine</p>' +
                            '<p>Vrednost: nepoznata</p>' +
                            '</div>' +
                            '</div>' +
                            '</a>' +
                            '<div class="image">' +
                            '<img src="img/slike/' + opisSlika[i].src + '.jpg">' +
                            '</div>' +
                            '</div>' +
                            '<button class="popupButton" id="popupButton' + (i + 1) + '">Add offer</button>' +
                            '</div>' +
                            '</div>';
                    }
                }

                $('.proba').html(html);
            }



            function renderImages() {
                let html = '';
                for (let i = 0; i < opisSlika.length; i++) {
                    html += '<div class="col-md-4 col-sm-6">' +
                            '<div class="portfolio-item">' +
                                '<div class="thumb">' +
                                '<a href="img/slike/slika' + (i + 1) + '.jpg" data-lightbox="image-1">' +
                                    '<div class="hover-effect">' +
                                    '<div class="hover-content">' +
                                        '<h1>' + opisSlika[i].imeSlike + '<em>, ' + opisSlika[i].imeSlikara  + '</em></h1>' +
                                        '<p>Naslikana je izmedju 1503. i 1506. godine</p>' +
                                        '<p>Vrednost: nepoznata</p>' +
                                    '</div>' +
                                    '</div>' +
                                '</a>' +
                                '<div class="image">' +
                                    '<img src="img/slike/' + opisSlika[i].src + '.jpg">' +
                                '</div>' +
                                '</div>' +
                                '<button class="popupButton" id="popupButton' + (i + 1) + '">Add offer</button>' +
                            '</div>' +
                            '</div>';
                }
                
                $('.proba').html(html);
        }




            
            $(".popupButton").click(function() {
                var imageId = $(this).closest('.portfolio-item').find('.image img').attr('src');
                imageId = imageId.substring(imageId.lastIndexOf("/") + 1, imageId.lastIndexOf("."));
                
                
                var userInput = prompt("Image ID: " + imageId + "\nUnesite Vasu ponudu:");
                if (userInput !== null) {
                    
                    console.log("User input: " + userInput);
                }

                //Odavde kopiras do kraja u ostale umetnine
                let username=JSON.parse(localStorage.getItem("username"));
                let password=JSON.parse(localStorage.getItem("password"));

                let nizKorisnika=JSON.parse(localStorage.getItem("korisniciIme"));
                let nizKorisnikaPonude=JSON.parse(localStorage.getItem("korisniciPonude"));
                let nizBrojevaPonuda=JSON.parse(localStorage.getItem("korisniciBrojPonuda"));
                let nizSlikaZaPonudu=JSON.parse(localStorage.getItem("nizSlikaPonuda"));
                
                let nizSvihPonuda=JSON.parse(localStorage.getItem("nizSvihPonuda"));
                let nizSvihSlika=JSON.parse(localStorage.getItem("nizSvihSlika"));

                for(let i=0;i<nizKorisnikaPonude.length;i++){
                    if(nizKorisnika[i]==username){
                        //("usao sam");
                        nizKorisnikaPonude[i].push(userInput);//dodavanje ponude
                        nizBrojevaPonuda[i]++;
                        nizSlikaZaPonudu[i].push(imageId);//dodavanje ime slike za ponudu
                        nizSvihPonuda.push(userInput);
                        nizSvihSlika.push(imageId);

                        //ovde samo promeni vrednost ponude stavio sam da je 45

                    }
                    
                }
                localStorage.setItem("nizSvihSlika", JSON.stringify(nizSvihSlika));
                localStorage.setItem("nizSvihPonuda",JSON.stringify(nizSvihPonuda));
                localStorage.setItem("korisniciIme", JSON.stringify(nizKorisnika));
                localStorage.setItem("korisniciPonude", JSON.stringify(nizKorisnikaPonude));
                localStorage.setItem("korisniciBrojPonuda", JSON.stringify(nizBrojevaPonuda));
                localStorage.setItem("nizSlikaPonuda", JSON.stringify(nizSlikaZaPonudu));
            });
    });
    </script>

    <script src="js/slike.js"></script>

</body>
</html>